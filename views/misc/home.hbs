{{>navbar}}


<div class="container d-flex justify-content-center my-3 gap-3">
    <div class="col-6">
        <div>
            {{#each posts as |yourPost|}}
            <div class="d-flex gap-3 rounded-2 my-3" style="background-color:#262626; padding: 30px" id="{{yourPost.id}}">
                <div class="w-100">
                    <div class="d-flex align-items-center gap-2 mb-3">
                        <img width="35" height="35" class="rounded-circle border border-2 object-fit-cover" src="{{yourPost.owner.image}}"/>
                        <div class="row">
                            <span class="" style="color:#f5f5f5">{{yourPost.owner.username}}</span>
                            <a href="/channels/{{yourPost.channel.id}}" type="button" class="text-card" style="font-size: 12px; margin: 0; ">{{yourPost.channel.name}}</a>
                        </div>
                    </div>
                    <div class="bottom-line">
                        <p>{{yourPost.text}}</p>
                        <img class="w-100 mb-3" src="{{yourPost.image}}"/>
                    </div>
                    <div class="d-flex justify-content-center">
                        <a class="btn btn-comment w-100" data-bs-toggle="collapse" href="#collapseExample" role="button" aria-expanded="false" aria-controls="collapseExample">
                            <i class="fa fa-comment-o fa-flip-horizontal" aria-hidden="true"></i> Comment
                        </a>
                    </div>
                    <div class="collapse mb-3" id="collapseExample">
                        <div>
                            
                            <form class="d-flex justify-content-between gap-1" action="/home/{{yourPost.id}}" method="POST" class="d-flex gap-2">
                                <div class="col-1">
                                    <img width="45px" height="45px" class="rounded-circle border border-2 object-fit-cover" src="{{../user.image}}"/>
                                </div>
                                <div class="form col-9">
                                    <input class="form-control form-control-lg" name="text" style="background-color:#3a3a3a !important;" placeholder="Leave a comment here" id="floatingTextarea"></input>
                                </div>
                                <div class="col-2 position-relative">
                                    <button class="btn btn-primary-post " style="width:90%" type="submit"><i class="fa fa-paper-plane-o" aria-hidden="true"></i></button>
                                </div>
                            </form>
                        </div>
                    </div>
                    {{#each yourPost.yourComments as |comment|}}
                    <div class="rounded-2 mb-3" style="background-color:#191919; padding: 30px">
                        <div class="d-flex gap-2 align-items-center mb-3" >
                            <img width="20" height="20" class="rounded-circle border border-2 object-fit-cover" src="{{comment.owner.image}}"/>
                            <span style="color:#f5f5f5">{{comment.owner.username}}</span>
                        </div>
                        <p>{{comment.text}}</p>
                    </div>
                    {{/each}}
                </div>
            </div>
            {{/each}}
        </div>
    </div>
    <div class="col-3">
        <div class="bottom-line">
        <div class="d-flex justify-content-between my-3 align-items-center">
            <h5>Your games</h5>
            <a href="/games" class="btn btn-outline-light">See more</a>
        </div>
        {{#each user.yourGames as |yourGame|}}
            <div class="list-group my-3 max-elements-feed">
                <a href="/games/{{yourGame.game._id}}" class="list-group-item list-group-item-dark" aria-current="true">
                <div class="d-flex w-100 justify-content-left gap-3 align-items-center">
                    <img style="max-height: 35px; border-radius: 3px;" src="{{yourGame.game.thumbnail}}"/>
                    <div class="text-truncate-container">
                        <h5 style="margin-bottom: 0;">{{yourGame.game.title}}</h5>
                    </div>
                </div>
                </a>
            </div>
        {{/each}} 
        </div>
        <div class="my-4">
        <div class="d-flex justify-content-between my-3 align-items-center">
            <h5>Your channels</h5>
            <a href="/channels" class="btn btn-outline-light">See more</a>
        </div>
        {{#each user.yourChannels as |yourChannel|}}
        <div class="list-group my-3 max-elements-feed">
            <a href="/channels/{{yourChannel.channel.id}}" class="list-group-item list-group-item-dark" aria-current="true">
            <div class="d-flex w-100 justify-content-left gap-3 align-items-center">
                <img style="max-width: 62px; border-radius: 3px;" src="{{yourChannel.channel.image}}"/>
                <div class="text-truncate-container">
                    <h5 style="margin-bottom: 0;">{{yourChannel.channel.name}}</h5>
                </div>
            </div>
            </a>
        </div>
        {{/each}}
        </div>
    </div>
    
</div>